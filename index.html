<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!file.README.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'><p><a href="http://badge.fury.io/rb/sockit"><img src="https://badge.fury.io/rb/sockit.png" alt="Gem Version"></a>
<a href="http://travis-ci.org/zpatten/sockit"><img src="https://secure.travis-ci.org/zpatten/sockit.png" alt="Build Status"></a>
<a href="https://coveralls.io/r/zpatten/sockit"><img src="https://coveralls.io/repos/zpatten/sockit/badge.png?branch=master" alt="Coverage Status"></a>
<a href="https://gemnasium.com/zpatten/sockit"><img src="https://gemnasium.com/zpatten/sockit.png" alt="Dependency Status"></a>
<a href="https://codeclimate.com/github/zpatten/sockit"><img src="https://codeclimate.com/github/zpatten/sockit.png" alt="Code Climate"></a></p>

<h1>SOCKIT</h1>

<p>Transparent SOCKS v4 and SOCKS v5 support for TCPSocket</p>

<p>Seamlessly route all TCP traffic for you application through a SOCKS v4 or v5 server with nearly zero effort.  Once <code>require</code>&#39;d and configured all traffic leveraging the <code>TCPSocket</code> class will route via your configured SOCKS server.</p>

<p>This is especially useful for many cases; here are a couple:</p>

<ul>
<li>Ensure all outbound traffic from your application appears from a single IP.</li>
<li>Ensure development traffic does not give away private IP addresses.</li>
</ul>

<h2>INSTALLATION</h2>

<p>Add this line to your application&#39;s Gemfile:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sockit</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<p>And then execute:</p>

<pre class="code ruby"><code class="ruby">$ bundle
</code></pre>

<p>Or install it yourself as:</p>

<pre class="code ruby"><code class="ruby">$ gem install sockit
</code></pre>

<h2>USAGE</h2>

<p>By loading the gem TCPSocket will get monkey patched adding seamless transparent SOCKS proxy support.  I favor using SS5 for a SOCKS server, so at this point I&#39;m uncertain of absolute compatibility with other SOCKS servers.  I&#39;m following the RFC here; so if (insert other SOCKS server flavor here) follows the RFC everything is in theory compatible.</p>

<h3>CONFIGURATION</h3>

<p>You can configure on the singleton class or an instance of the class.  The SOCKS configuration is stored in a class variable; so it is shared across all TCPSocket instances and the singleton, thus changing the configuration in one instance will also affect all other instances.  The configuration is stored in an OpenStruct; you can reference <code>socks</code> with a block as shown, where the configuration OpenStruct is yielded to the block; or without in which case the configuration OpenStruct itself is returned.</p>

<p>The defaults are as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Sockit</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_config'>config</span><span class='op'>|</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='int'>5</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_ignore'>ignore</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span>
</code></pre>

<p>Specify your SOCKS server and port:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Sockit</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_config'>config</span><span class='op'>|</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1080</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<p>If you want to use username/password authentication:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Sockit</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_config'>config</span><span class='op'>|</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_username'>username</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>username</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>password</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<p>Turn on debug output:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Sockit</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_config'>config</span><span class='op'>|</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</code></pre>

<p>Ignore some more hosts:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Sockit</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_config'>config</span><span class='op'>|</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_ignore'>ignore</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>192.168.0.1</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<p>Once configured you can simply do something along these lines:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_socket'>socket</span> <span class='op'>=</span> <span class='const'>TCPSocket</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>github.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>22</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_socket'>socket</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
</code></pre>

<p>And everything will be magically routed via your configured SOCKS server.</p>

<h2>SS5</h2>

<p>I use SS5 for my SOCKS servers.  It works well and is easy to configure.  It is also the server which the specs run against on Travis CI.  You can see how it is compiled, configured and started as well as more the the Travis <code>before_install</code> script, <a href="https://github.com/zpatten/sockit/blob/master/spec/support/before_install.sh">https://github.com/zpatten/sockit/blob/master/spec/support/before_install.sh</a></p>

<h2>CONTRIBUTING</h2>

<p>I await your pull request.</p>

<h1>RESOURCES</h1>

<p>Source:</p>

<ul>
<li><a href="https://github.com/zpatten/sockit">https://github.com/zpatten/sockit</a></li>
</ul>

<p>Issues:</p>

<ul>
<li><a href="https://github.com/zpatten/sockit/issues">https://github.com/zpatten/sockit/issues</a></li>
</ul>

<p>Documentation:</p>

<ul>
<li><a href="http://zpatten.github.com/sockit/">http://zpatten.github.com/sockit/</a></li>
</ul>

<h1>LICENSE</h1>

<p>SOCKIT - Transparent SOCKS 5 support for TCPSocket</p>

<ul>
<li>Author: Zachary Patten <zachary AT jovelabs DOT com> <a href="http://coderwall.com/zpatten"><img src="http://api.coderwall.com/zpatten/endorsecount.png" alt="endorse"></a></li>
<li>Copyright: Copyright (c) Zachary Patten</li>
<li>License: Apache License, Version 2.0</li>
</ul>

<p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_http'>http</span><span class='symbol'>:/</span><span class='op'>/</span><span class='id identifier rubyid_www'>www</span><span class='period'>.</span><span class='id identifier rubyid_apache'>apache</span><span class='period'>.</span><span class='id identifier rubyid_org'>org</span><span class='op'>/</span><span class='id identifier rubyid_licenses'>licenses</span><span class='op'>/</span><span class='const'>LICENSE</span><span class='op'>-</span><span class='float'>2.0</span>
</code></pre>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
</div></div>

    <div id="footer">
  Generated on Sun Jan 17 18:08:06 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.3.0).
</div>

  </body>
</html>